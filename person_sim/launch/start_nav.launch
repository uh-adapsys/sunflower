<!-- -*- mode: XML -*- -->

<launch>
	<arg name="ns" default="" />
	<!-- combine front and rear scanner -->
	<node pkg="topic_tools" type="relay" name="scan_front_relay"
		args="scan_front 
		scan_combined" />
	<node pkg="topic_tools" type="relay" name="scan_back_relay"
		args="scan_back scan_combined" />

	<!--- Run AMCL -->
	<include file="$(find person_sim)/launch/amcl.launch">
		<arg name="ns" value="$(arg ns)" />
		<arg name="scan" value="scan_combined" />
	</include>

	<node pkg="move_base" type="move_base" respawn="false" name="move_base"
		output="screen">
		<rosparam file="$(find person_sim)/config/costmap_common_params.yaml"
			command="load" subst_value="True" />
		<rosparam file="$(find person_sim)/config/costmap_common_params.yaml"
			command="load" subst_value="True" />
		<rosparam file="$(find person_sim)/config/local_costmap_params.yaml"
			command="load" />
		<rosparam file="$(find person_sim)/config/global_costmap_params.yaml"
			command="load" />
		<rosparam
			file="$(find person_sim)/config/base_local_planner_params.yaml"
			command="load" />
		<remap from="map" to="/map" />
		<remap from="static_map" to="/static_map" />
	</node>
</launch>
